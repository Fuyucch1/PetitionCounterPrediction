<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="icon" href="lgbt.svg" type="image/svg+xml">
    <title>Petition Counter</title>
    <link rel="stylesheet" href="styles.css">
    <script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
</head>
<body>
    <div class="petition-button-container">
        <a href="https://eci.ec.europa.eu/043/public/#/screen/home" target="_blank" class="petition-button">SIGN THE PETITION NOW!</a>
    </div>
    <div class="container">
        <h1>Petition Progress Tracker</h1>
        <h3 class="subtitle">Ban on conversion practices in the European Union</h3>

        <div class="stats-container">
            <div class="stat-box">
                <h2>Current Signatures</h2>
                <p id="current-count">Loading...</p>
            </div>

            <div class="stat-box">
                <h2>Signatures per Minute</h2>
                <p id="per-minute">Calculating...</p>
            </div>

            <div class="stat-box">
                <h2>Signatures per Hour</h2>
                <p id="per-hour">Calculating...</p>
            </div>

            <div class="stat-box">
                <h2>Estimated Time to 1.25 Million</h2>
                <p id="time-to-million">Calculating...</p>
            </div>
        </div>

        <div class="milestone-announcement" style="text-align: center; margin: 30px 0; padding: 15px; background-color: #e8f4fc; border-radius: 8px; color: #2c3e50; font-weight: bold; border-left: 5px solid #3498db;">
            The 1 000 000 milestone was achieved at . We're now trying to reach the 1 250 000 milestone!
        </div>

        <div class="progress-container">
            <div class="progress-bar">
                <div id="progress" class="progress"></div>
            </div>
            <p id="progress-text">0%</p>
            <p id="last-updated" class="last-updated">Last updated: Calculating...</p>
        </div>

        <div class="plot-container">
            <h2>Signatures Over Time</h2>
            <div id="signature-plot" style="width:100%; height:400px;"></div>
        </div>

        <p class="source-info">Data source: <a href="https://eci.ec.europa.eu/043/public/#/screen/home" target="_blank">European Citizens' Initiative</a> - Made with ðŸ’– by <a href="https://bsky.app/profile/fuyucchi.fr" target="_blank">Fuyucchi</a></p>
    </div>

    <script src="script.js"></script>
</body>
</html>
